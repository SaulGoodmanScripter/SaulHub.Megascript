local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

-- –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
local SAUL_COLORS = {
    Background = Color3.fromRGB(20, 20, 30),
    Header = Color3.fromRGB(50, 40, 70),
    Card = Color3.fromRGB(35, 30, 50),
    Accent = Color3.fromRGB(140, 70, 160),
    Text = Color3.fromRGB(240, 240, 255),
    Success = Color3.fromRGB(100, 200, 120),
    Warning = Color3.fromRGB(255, 180, 70),
    Error = Color3.fromRGB(255, 100, 100)
}

-- –°–æ–∑–¥–∞–Ω–∏–µ UI
local SaulUI = Instance.new("ScreenGui")
SaulUI.Name = "SaulMobileUI"
SaulUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
SaulUI.ResetOnSpawn = false

-- –ö–Ω–æ–ø–∫–∞-–º–∏–Ω–∏–º–∏–∑–∞—Ç–æ—Ä (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤–∏–¥–Ω–∞)
local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Size = UDim2.new(0, 50, 0, 50)
MinimizeButton.Position = UDim2.new(0, 20, 0, 20)
MinimizeButton.BackgroundColor3 = SAUL_COLORS.Accent
MinimizeButton.TextColor3 = SAUL_COLORS.Text
MinimizeButton.Text = "‚ö°"
MinimizeButton.Font = Enum.Font.GothamBold
MinimizeButton.TextSize = 20
MinimizeButton.Visible = true
MinimizeButton.Parent = SaulUI

local MinimizeCorner = Instance.new("UICorner")
MinimizeCorner.CornerRadius = UDim.new(1, 0)
MinimizeCorner.Parent = MinimizeButton

-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç)
local MainContainer = Instance.new("Frame")
MainContainer.Size = UDim2.new(0, 320, 0, 400)
MainContainer.Position = UDim2.new(0.5, -160, 0.5, -200)
MainContainer.BackgroundColor3 = SAUL_COLORS.Background
MainContainer.BorderSizePixel = 0
MainContainer.ClipsDescendants = true
MainContainer.Visible = false
MainContainer.Parent = SaulUI

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 15)
UICorner.Parent = MainContainer

local UIStroke = Instance.new("UIStroke")
UIStroke.Color = SAUL_COLORS.Accent
UIStroke.Thickness = 2
UIStroke.Parent = MainContainer

-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å
local Header = Instance.new("Frame")
Header.Size = UDim2.new(1, 0, 0, 50)
Header.BackgroundColor3 = SAUL_COLORS.Header
Header.BorderSizePixel = 0
Header.Parent = MainContainer

local HeaderCorner = Instance.new("UICorner")
HeaderCorner.CornerRadius = UDim.new(0, 15)
HeaderCorner.Parent = Header

-- –ó–∞–≥–æ–ª–æ–≤–æ–∫
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -80, 1, 0)
Title.Position = UDim2.new(0, 15, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "Saul Mobile"
Title.TextColor3 = SAUL_COLORS.Text
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = Header

-- –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -35, 0.5, -15)
CloseButton.BackgroundColor3 = SAUL_COLORS.Card
CloseButton.TextColor3 = SAUL_COLORS.Text
CloseButton.Text = "√ó"
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 16
CloseButton.Parent = Header

local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(1, 0)
CloseCorner.Parent = CloseButton

-- –û–±–ª–∞—Å—Ç—å –≤–≤–æ–¥–∞ –∫–æ–¥–∞
local CodeContainer = Instance.new("Frame")
CodeContainer.Size = UDim2.new(1, -20, 0, 200)
CodeContainer.Position = UDim2.new(0, 10, 0, 60)
CodeContainer.BackgroundColor3 = SAUL_COLORS.Card
CodeContainer.BorderSizePixel = 0
CodeContainer.Parent = MainContainer

local CodeCorner = Instance.new("UICorner")
CodeCorner.CornerRadius = UDim.new(0, 10)
CodeCorner.Parent = CodeContainer

local CodeInput = Instance.new("TextBox")
CodeInput.Size = UDim2.new(1, -10, 1, -10)
CodeInput.Position = UDim2.new(0, 5, 0, 5)
CodeInput.BackgroundTransparency = 1
CodeInput.TextColor3 = SAUL_COLORS.Text
CodeInput.Font = Enum.Font.RobotoMono
CodeInput.TextSize = 12
CodeInput.TextXAlignment = Enum.TextXAlignment.Left
CodeInput.TextYAlignment = Enum.TextYAlignment.Top
CodeInput.TextWrapped = true
CodeInput.MultiLine = true
CodeInput.ClearTextOnFocus = false
CodeInput.PlaceholderText = "–í–≤–µ–¥–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç...\n–ü—Ä–∏–º–µ—Ä: print('Hello!')"
CodeInput.PlaceholderColor3 = Color3.fromRGB(150, 150, 170)
CodeInput.Text = ""
CodeInput.Parent = CodeContainer

-- –ü–∞–Ω–µ–ª—å –∫–Ω–æ–ø–æ–∫
local ButtonContainer = Instance.new("Frame")
ButtonContainer.Size = UDim2.new(1, -20, 0, 80)
ButtonContainer.Position = UDim2.new(0, 10, 0, 270)
ButtonContainer.BackgroundTransparency = 1
ButtonContainer.Parent = MainContainer

-- –ö–Ω–æ–ø–∫–∞ Execute
local ExecuteButton = Instance.new("TextButton")
ExecuteButton.Size = UDim2.new(1, 0, 0, 35)
ExecuteButton.Position = UDim2.new(0, 0, 0, 0)
ExecuteButton.BackgroundColor3 = SAUL_COLORS.Success
ExecuteButton.TextColor3 = SAUL_COLORS.Text
ExecuteButton.Text = "üöÄ –í–´–ü–û–õ–ù–ò–¢–¨"
ExecuteButton.Font = Enum.Font.GothamBold
ExecuteButton.TextSize = 14
ExecuteButton.Parent = ButtonContainer

local ExecuteCorner = Instance.new("UICorner")
ExecuteCorner.CornerRadius = UDim.new(0, 8)
ExecuteCorner.Parent = ExecuteButton

-- –ö–Ω–æ–ø–∫–∞ Clear
local ClearButton = Instance.new("TextButton")
ClearButton.Size = UDim2.new(1, 0, 0, 35)
ClearButton.Position = UDim2.new(0, 0, 0, 40)
ClearButton.BackgroundColor3 = SAUL_COLORS.Warning
ClearButton.TextColor3 = SAUL_COLORS.Text
ClearButton.Text = "üóëÔ∏è –û–ß–ò–°–¢–ò–¢–¨"
ClearButton.Font = Enum.Font.GothamBold
ClearButton.TextSize = 14
ClearButton.Parent = ButtonContainer

local ClearCorner = Instance.new("UICorner")
ClearCorner.CornerRadius = UDim.new(0, 8)
ClearCorner.Parent = ClearButton

-- –ö–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∞
local ConsoleContainer = Instance.new("Frame")
ConsoleContainer.Size = UDim2.new(1, -20, 0, 50)
ConsoleContainer.Position = UDim2.new(0, 10, 0, 210)
ConsoleContainer.BackgroundColor3 = SAUL_COLORS.Card
ConsoleContainer.BorderSizePixel = 0
ConsoleContainer.Parent = MainContainer

local ConsoleCorner = Instance.new("UICorner")
ConsoleCorner.CornerRadius = UDim.new(0, 8)
ConsoleCorner.Parent = ConsoleContainer

local ConsoleLabel = Instance.new("TextLabel")
ConsoleLabel.Size = UDim2.new(1, -10, 1, -10)
ConsoleLabel.Position = UDim2.new(0, 5, 0, 5)
ConsoleLabel.BackgroundTransparency = 1
ConsoleLabel.TextColor3 = SAUL_COLORS.Success
ConsoleLabel.Font = Enum.Font.RobotoMono
ConsoleLabel.TextSize = 10
ConsoleLabel.TextXAlignment = Enum.TextXAlignment.Left
ConsoleLabel.TextYAlignment = Enum.TextYAlignment.Top
ConsoleLabel.TextWrapped = true
ConsoleLabel.Text = "> –ì–æ—Ç–æ–≤"
ConsoleLabel.Parent = ConsoleContainer

-- –§—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞
local function executeScript()
    local scriptText = CodeInput.Text
    if scriptText == "" then
        ConsoleLabel.TextColor3 = SAUL_COLORS.Warning
        ConsoleLabel.Text = "> –í–≤–µ–¥–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç"
        return
    end
    
    ConsoleLabel.TextColor3 = SAUL_COLORS.Text
    ConsoleLabel.Text = "> –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ..."
    
    local success, result = pcall(function()
        -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ loadstring –æ—Ç —ç–∫—Å–ø–ª–æ–∏—Ç–∞
        if loadstring then
            return loadstring(scriptText)()
        else
            -- –ï—Å–ª–∏ –Ω–µ—Ç loadstring, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
            error("Loadstring –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω. –ò—Å–ø–æ–ª—å–∑—É–π —Å–∫—Ä–∏–ø—Ç—ã –±–µ–∑ loadstring")
        end
    end)
    
    if success then
        ConsoleLabel.TextColor3 = SAUL_COLORS.Success
        ConsoleLabel.Text = "> ‚úÖ –£—Å–ø–µ—Ö!"
    else
        ConsoleLabel.TextColor3 = SAUL_COLORS.Error
        ConsoleLabel.Text = "> ‚ùå " .. tostring(result):sub(1, 30) .. "..."
    end
end
    ConsoleLabel.TextColor3 = SAUL_COLORS.Text
    ConsoleLabel.Text = "> –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ..."
    
    local success, result = pcall(function()
        return loadstring(scriptText)()
    end)
    
    if success then
        ConsoleLabel.TextColor3 = SAUL_COLORS.Success
        ConsoleLabel.Text = "> ‚úÖ –£—Å–ø–µ—Ö!"
    else
        ConsoleLabel.TextColor3 = SAUL_COLORS.Error
        ConsoleLabel.Text = "> ‚ùå " .. tostring(result):sub(1, 30) .. "..."
    end
end

-- –û—á–∏—Å—Ç–∫–∞ –ø–æ–ª—è
local function clearInput()
    CodeInput.Text = ""
    ConsoleLabel.TextColor3 = SAUL_COLORS.Success
    ConsoleLabel.Text = "> –û—á–∏—â–µ–Ω–æ"
end

-- –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π UI
local function toggleMainUI()
    if MainContainer.Visible then
        -- –°–∫—Ä—ã–≤–∞–µ–º
        TweenService:Create(MainContainer, TweenInfo.new(0.3), {
            Size = UDim2.new(0, 0, 0, 0),
            Position = UDim2.new(0.5, 0, 0.5, 0)
        }):Play()
        wait(0.3)
        MainContainer.Visible = false
        MinimizeButton.Visible = true
    else
        -- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º
        MainContainer.Visible = true
        MainContainer.Size = UDim2.new(0, 0, 0, 0)
        MainContainer.Position = UDim2.new(0.5, 0, 0.5, 0)
        
        TweenService:Create(MainContainer, TweenInfo.new(0.4, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
            Size = UDim2.new(0, 320, 0, 400),
            Position = UDim2.new(0.5, -160, 0.5, -200)
        }):Play()
        
        MinimizeButton.Visible = false
    end
end

-- –ü—Ä–∏–≤—è–∑–∫–∞ —Å–æ–±—ã—Ç–∏–π
ExecuteButton.MouseButton1Click:Connect(executeScript)
ClearButton.MouseButton1Click:Connect(clearInput)
MinimizeButton.MouseButton1Click:Connect(toggleMainUI)

CloseButton.MouseButton1Click:Connect(function()
    toggleMainUI()
end)

-- –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
local function initialize()
    -- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
    if UserInputService.TouchEnabled then
        print("üì± Saul Mobile UI –∑–∞–≥—Ä—É–∂–µ–Ω –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞")
    else
        print("üñ•Ô∏è Saul Mobile UI –∑–∞–≥—Ä—É–∂–µ–Ω –¥–ª—è –ü–ö")
    end
    
    -- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å—ë —Å–æ–∑–¥–∞–ª–æ—Å—å
    if SaulUI and MinimizeButton and MainContainer then
        print("‚úÖ –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã UI —Å–æ–∑–¥–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ")
        SaulUI.Parent = game.CoreGui
        print("üéÆ –ù–∞–∂–º–∏ –Ω–∞ —Å–∏–Ω—é—é –∫–Ω–æ–ø–∫—É ‚ö° —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å")
    else
        warn("‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è UI")
    end
end

-- –ó–∞–ø—É—Å–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
initialize()

return SaulUI